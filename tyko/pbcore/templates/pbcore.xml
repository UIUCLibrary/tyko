<?xml version="1.0" encoding="UTF-8"?>
<pbcoreCollection xmlns="http://www.pbcore.org/PBCore/PBCoreNamespace.html"
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="http://www.pbcore.org/PBCore/PBCoreNamespace.html
                  https://raw.githubusercontent.com/WGBH/PBCore_2.1/master/pbcore-2.1.xsd">
    <pbcoreDescriptionDocument>
        <pbcoreIdentifier source="TYKO-OBJECT-ID">{{ object_id }}</pbcoreIdentifier>
        <pbcoreTitle titleType="Main">{{ name }}</pbcoreTitle>
        {%- for object_note in notes %}
        <pbcoreDescription descriptionType="{{- object_note['note_type'] if object_note['note_type']|length else "Note" -}} ">{{ object_note['text'] }}</pbcoreDescription>
        {%- else %}
        <pbcoreDescription/>
        {%- endfor %}
        {% for part in parts -%}
        <pbcorePart>
            {% if part['medusa_uuid'] is not none -%}
                <pbcoreIdentifier source="medusa_uuid">{{ part['medusa_uuid'] }}</pbcoreIdentifier>
            {%- else -%}
            <pbcoreIdentifier/>
            {%- endif %}
            <pbcoreTitle>{{ part['name'] }}</pbcoreTitle>
            {%- for note in part['notes'] %}
            <pbcoreDescription descriptionType="{{- note['note_type'] if note['note_type']|length else "Note" -}} ">{{ note['text'] }}</pbcoreDescription>
            {%- else %}
            <pbcoreDescription/>
            {%- endfor %}
        </pbcorePart>
        {%- endfor %}
    </pbcoreDescriptionDocument>
</pbcoreCollection>
