{% extends "details_table.html" %}
{% from "_macros.html" import notes_table_row, notes_table, metadata_table %}
{% from "_details_macros.html" import add_field_row, metadata_text_edit_widget %} }}

{% block entity_navbar %}
    <nav class="navbar navbar-expand-lg  navbar-light justify-content-start bg-light">
        <div class="mx-1">
            <button class="btn btn-outline-primary "
                    type="button"
                    disabled
            >New</button>
        </div>
    </nav>
{% endblock %}
{% block detail_table %}
    <div class="card my-1">
        <div class="card-body">
            {%  call metadata_table() %}
                <tr>
                    {{metadata_text_edit_widget("Name", item['name'], 'name', api_path)}}
                </tr>
                <tr>
                    {{metadata_text_edit_widget("File Name", item['file_name'], 'file_name', api_path)}}
                </tr>
                <tr>
                    {{metadata_text_edit_widget("Medusa UUID", item['medusa_uuid'], 'medusa_uuid', api_path)}}
                </tr>
                <tr>
                    {{metadata_text_edit_widget("Object Sequence", item['obj_sequence'], 'obj_sequence', api_path)}}
                </tr>
            {% endcall %}
        </div>
    </div>
    <div class="card">
        <h5 class="card-header">Notes</h5>
        <div class="card-body">
            {% call(note) notes_table(item['notes'], api_path) %}
                {{ notes_table_row(note, url_for('note_by_id', id=note['note_id'])) }}
            {% endcall %}
        </div>
    </div>
{% endblock %}

{% block scripts %}
    {{ super() }}
    {{ note_editor_events("/api/project/" ~ project_id ~ "/object/" ~ object_id ~ "/item/" ~ item.item_id, valid_note_types) }}
{% endblock %}